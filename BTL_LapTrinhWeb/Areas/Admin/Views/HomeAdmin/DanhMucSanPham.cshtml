@model IEnumerable<BTL_LapTrinhWeb.Data.HangHoa>

@{
    ViewData["Title"] = "DanhMucSanPham";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
@addTagHelper * , Microsoft.AspNetCore.Mvc.TagHelpers

<h3>Danh Mục Sản Phẩm</h3>

<p>
    <a class="btn btn-success btn-sm" asp-action="ThemSanPhamMoi">Create New</a>
</p>
@if (TempData["Message"] != null)
{
    <div class="alert alert-info">
        @TempData["Message"]
    </div>
}
<table class="table">
    <thead>
        <tr>           
            <th>
                Mã Hàng Hóa
            </th>
            <th>
                Tên Hàng Hóa
            </th>
            <th>
                Mô Tả Đơn Vị
            </th>
            <th>
                Đơn Giá
            </th>
            <th>
                Ngày Sản Xuất
            </th>
            <th>
                Giảm Giá
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>      
@foreach (var item in Model) {          
        <tr>
            <td>
                 @Html.DisplayFor(modelItem => item.MaHh)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.TenHh)
            </td>
            
            <td>
                @Html.DisplayFor(modelItem => item.MoTaDonVi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.DonGia)
            </td>
            
            <td>
                @Html.DisplayFor(modelItem => item.NgaySx)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.GiamGia)
            </td>                      
            <td>
                    <a asp-action="SuaSanPham" asp-route-Mahh="@item.MaHh" class="btn btn-primary btn-sm">Edit</a> 
                    <a asp-action="ChiTietSP" asp-route-Mahh="@item.MaHh" class="btn btn-info btn-sm">Details</a> 
                    <a asp-action="XoaSanPham" asp-route-Mahh="@item.MaHh" onclick="return confirm('Bạn có chắc chắn muốn xóa sản phẩm này không?');" class="btn btn-danger btn-sm">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>

<div class="col-12">
    <div class="pagination d-flex justify-content-center mt-5">
        <a href="@Url.Action("DanhMucSanPham", new { page = ViewBag.CurrentPage - 1 })" class="rounded"
        @if (ViewBag.CurrentPage == 1)
        {
            <text> aria-hidden="true" class="disabled"</text>
        }> &laquo;</a>

        @for (int z = 1; z <= ViewBag.TotalPages; z++)
        {
            if (z == ViewBag.CurrentPage)
            {
                <a href="#" class="active rounded">@z</a>
            }
            else
            {
                <a href="@Url.Action("DanhMucSanPham", new { page = z })" class="rounded">@z</a>
            }
        }

        <a href="@Url.Action("DanhMucSanPham", new { page = ViewBag.CurrentPage + 1 })" class="rounded"
        @if (ViewBag.CurrentPage == ViewBag.TotalPages)
        {
            <text> aria-hidden="true" class="disabled"</text>
        }> &raquo;</a>
    </div>
</div>
